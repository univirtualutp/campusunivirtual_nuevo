 /**
  *
  * @package   theme_mb2mclmain
  * @copyright 2020 Mariusz Boloz (https://mb2themes.com)
  * @license   Commercial https://themeforest.net/licenses
  *
  */ jQuery(document).ready(function(e){e(".mb2slides-mainslider").each(function(){var a=e(this),t=e(this).find(".mb2slides-slide-list");t.find(".mb2slides-slide-item").find(".mb2slides-caption"),t.find(">li");var s=t.find(".mb2slides-nextslide"),o=t.find(".mb2slides-prevslide"),l=t.data("slidescount"),n=t.data("modid"),r=t.data("mode"),d=1==t.data("auto"),c=t.data("aspeed"),h=t.data("items"),m=t.data("margin"),f=t.data("moveitems")>h?h:t.data("moveitems"),u=t.data("apause"),b=1==t.data("kpress"),p=1==t.data("loop"),v=1==t.data("aheight"),g=1==t.data("pager"),k=1==t.data("control")||2==t.data("control"),C=!!e("body").hasClass("dir-rtl");function $(){var a=e(".mb2slides"+n+" .lslide.active"),t=a.find(".mb2slides-caption");a.hasClass("active")?t.hasClass("anim1")&&t.stop().animate({top:0,bottom:0,opacity:1},350):t.stop().animate({top:15,bottom:-15,opacity:0},0)}function y(a){768>=e(window).width()?(a.addClass("mb2slides-mobile"),a.removeClass("mb2slides-desktop")):(a.removeClass("mb2slides-mobile"),a.addClass("mb2slides-desktop"))}(function e(){return"function"==typeof t.lightSliderMb2||(setTimeout(e,100),!1)})()&&l>1&&(t.lightSliderMb2({slidesVisible:!1,item:h,autoWidth:!1,slideMove:f,slideMargin:m,addClass:"",mode:r,useCSS:!0,cssEasing:"ease",easing:"linear",speed:c,auto:d,loop:p,slideEndAnimation:!0,pause:u,keyPress:b,controls:k,prevHtml:'<span class="'+(C?"fa fa-angle-right":"fa fa-angle-left")+'"></span>',nextHtml:'<span class="'+(C?"fa fa-angle-left":"fa fa-angle-right")+'"></span>',rtl:C,adaptiveHeight:v,vertical:!1,verticalHeight:500,vThumbWidth:100,pauseOnHover:!0,thumbItem:10,pager:g,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:h>1?[{breakpoint:768,settings:{item:h>2?2:h,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]:[],onBeforeStart:function(e){},onSliderLoad:function(e){$(),a.addClass("loaded")},onAfterSlide:function(e){$()},onBeforeSlide:function(a){var t;t=e(".mb2slides"+n+" .mb2slides-caption"),t.hasClass("anim1")&&t.stop().animate({top:15,bottom:-15,opacity:0},150)},onBeforeNextSlide:function(e){},onBeforePrevSlide:function(e){},onAfterReset:function(e){$()}}),s.click(function(e){e.preventDefault(),t.goToNextSlide()}),o.click(function(e){e.preventDefault(),t.goToPrevSlide()})),y(a),e(window).on("resize",function(){y(a)})}),e(".mb2notices-item.canclose").each(function(){var a=e(this),t="mb2notices-item-"+a.data("itemid"),s={expires:a.data("cookieexpiry"),path:"/"},o=a.find(".mb2notices-item-close");"hide"!==Cookies.get(t)&&a.show(),o.click(function(e){e.preventDefault(),a.slideUp(250),Cookies.set(t,"hide",s)})}),e(document).on("click",".save-location",function(){Cookies.set("mb2mclmain_scrollpos",window.pageYOffset,{expires:1,path:"/"})}),Cookies.get("mb2mclmain_scrollpos")&&(window.scrollTo(0,Cookies.get("mb2mclmain_scrollpos")),Cookies.remove("mb2mclmain_scrollpos")),e(".header-tools-btn-js").each(function(){var a=e(this),t=e(".header-tools"),s=t.find(".theme-searchform"),o=t.find(".theme-loginform"),l=t.find(".language-list"),n=t.find(".close-btn");a.click(function(a){a.preventDefault(),e("body").removeClass("header-tool-active"),e(this).hasClass("search-btn")?(o.fadeOut(150),l.fadeOut(150),t.find(".login-btn").removeClass("active"),t.find(".language-btn").removeClass("active"),e(this).hasClass("active")?(s.fadeOut(150),e(this).removeClass("active"),e("body").removeClass("header-tool-active")):(s.fadeIn(150),e(this).addClass("active"),e("body").addClass("header-tool-active"))):e(this).hasClass("login-btn")?(s.fadeOut(150),l.fadeOut(150),t.find(".search-btn").removeClass("active"),t.find(".language-btn").removeClass("active"),e(this).hasClass("active")?(o.fadeOut(150),e(this).removeClass("active"),e("body").removeClass("header-tool-active")):(o.fadeIn(150),e(this).addClass("active"),e("body").addClass("header-tool-active"))):e(this).hasClass("language-btn")&&(s.fadeOut(150),o.fadeOut(150),t.find(".search-btn").removeClass("active"),t.find(".login-btn").removeClass("active"),e(this).hasClass("active")?(l.fadeOut(150),e(this).removeClass("active"),e("body").removeClass("header-tool-active")):(l.fadeIn(150),e(this).addClass("active"),e("body").addClass("header-tool-active")))}),n.click(function(t){t.preventDefault(),e("body").removeClass("header-tool-active"),a.hasClass("login-btn")?(o.fadeOut(150),a.removeClass("active")):a.hasClass("search-btn")&&(s.fadeOut(150),a.removeClass("active"))})}),e(document).on("click","#nav-notification-popover-container > .nav-link",function(){e(".header-tools .theme-searchform").fadeOut(150),e(".header-tools .theme-loginform").fadeOut(150),e(".header-tools .language-list").fadeOut(150)}),e(".categorypicker").length>0&&e(".course-layout-switcher").length>0&&e(".categorypicker").append(e(".course-layout-switcher")),e("#frontpage-available-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-available-course-list").prepend(e(".course-layout-switcher")),e("#frontpage-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-course-list").prepend(e(".course-layout-switcher")),a="courses_layout",s=(t=e(".course-layout-switcher")).find(">a"),o={expires:3,path:"/"},e(".course-layout-switcher").length&&("grid"===Cookies.get(a)?(e("body").addClass("course-layout-grid"),s.removeClass("active"),t.find(".grid-layout").addClass("active")):"list"===Cookies.get(a)&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),t.find(".list-layout").addClass("active")),s.click(function(t){t.preventDefault(),e(this).hasClass("grid-layout")&&!e("body").hasClass("course-layout-grid")?(e("body").addClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(a),Cookies.set(a,"grid",o)):e(this).hasClass("list-layout")&&e("body").hasClass("course-layout-grid")&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(a),Cookies.set(a,"list",o))}));var a,t,s,o,l="layout_sidebars",n={expires:3,path:"/"},r=e(".theme-hide-sidebar"),d=r.data("showtext"),c=r.data("hidetext");"hidden"!==Cookies.get(l)||e("body").hasClass("editing")?"shown"===Cookies.get(l)&&(e("body").removeClass("hide-sidebars"),r.text(c)):(e("body").addClass("hide-sidebars"),r.text(d)),r.click(function(a){e("body").hasClass("editing")||(e("body").hasClass("hide-sidebars")?(e("body").removeClass("hide-sidebars"),e(this).text(c),Cookies.remove(l),Cookies.set(l,"shown",n)):(e("body").addClass("hide-sidebars"),e(this).text(d),Cookies.remove(l),Cookies.set(l,"hidden",n))),a.preventDefault()}),e(".theme-slider,.mb2-pb-content-list.owl-carousel").each(function(){var a,t,s,o,l,n,r;a=slider=e(this),isItems=a.data("items"),isMargin=a.data("margin"),isLoop=0!=a.data("loop"),isNav=0!=a.data("nav"),isDots=0!=a.data("dots"),isAutoplay=0!=a.data("autoplay"),isPauseTime=a.data("pausetime"),isAnimTime=a.data("animtime"),t=isItems>2?2:isItems,s=isItems>3?3:isItems,o=isItems>5?5:isItems,isRes={0:{items:1},600:{items:t},780:{items:s},1e3:{items:o}},l=e("body").hasClass("dir-rtl"),n=!1,r=['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],l&&(n=!0,r=['<i class="fa fa-angle-right"></i>','<i class="fa fa-angle-left"></i>']),function e(){return"function"==typeof a.owlCarousel||(setTimeout(e,100),!1)}()&&a.owlCarousel({items:isItems,margin:isMargin,loop:isLoop,nav:isNav,rtl:n,dots:isDots,autoplay:isAutoplay,responsive:isRes,autoplayHoverPause:!0,autoplayTimeout:isPauseTime,smartSpeed:isAnimTime,navText:r})});var h=e(".theme-scrolltt"),m=h.data("scrollspeed");function f(){e(".theme-table-wrap").each(function(){e(this).find(">table").width()>e(this).width()?e(this).addClass("wider"):e(this).removeClass("wider")})}e(window).on("scroll",function(){e(this).scrollTop()>900?h.addClass("active"):h.removeClass("active")}),h.click(function(a){a.preventDefault(),e("html, body").stop().animate({scrollTop:0},m)}),e("body").hasClass("path-admin-setting")&&e(".mb2tmpl-acc-title").each(function(){e(this).click(function(a){e(this).toggleClass("active"),e(this).parent().find("> div").slideToggle(150)})}),e("table").wrap('<div class="theme-table-wrap"></div>'),e(".generaltable, .forumheaderlist, table.userenrolment").addClass("table table-striped"),e("table.collection").addClass("table table-bordered"),e("table.preference-table").addClass("table table-bordered"),e("table.rolecap").addClass("table table-bordered"),e("#categoryquestions").addClass("table table-striped"),f(),e(window).on("resize",function(){f()}),e(".embed-video-bg").each(function(){var a=e(this),t=a.parent().find(">i"),s=a.parent().find(".icon-bg");t.on("click",function(t){a.parent().find("iframe").attr("src",a.data("videourl")),e(this).fadeOut(350),a.fadeOut(350),s.fadeOut(350),t.preventDefault()})}),e(".alert-error").addClass("alert-danger"),e(".box.notifyproblem").addClass("alert"),e(".box.notifyproblem").addClass("alert-danger"),e(".box.notifyproblem").removeClass("notifyproblem"),e(".nav-tabs .nav-link").each(function(){e(this).hasClass("active")&&e(this).parent().addClass("active")}),e(".block-region").each(function(){var a='<span class="region-name">'+e(this).data("blockregion")+"</span>";e("body").hasClass("editing")&&e(this).append(a)}),e(".main-nav .theme-ddmenu").each(function(){var a=e(this),t=a.data("animtype"),s=a.data("animspeed");(function e(){return"function"==typeof a.superfish||(setTimeout(e,100),!1)})()&&a.superfish({popUpSelector:"ul",hoverClass:"mb2ctm-hover",animation:2==t?{height:"show"}:{opacity:"show"},speed:s,speedOut:"fast",cssArrows:!1})}),e(".sidebar-nav a").each(function(){var a=e(this),t=a.find(".mobile-arrow"),s=e(this).attr("href").split("");"#"===s[0]&&1==s.length&&a.parent().hasClass("dropdown")?e(this).click(function(a){a.preventDefault(),e(this).siblings("ul").slideToggle(250),e(this).toggleClass("active"),e(this).find(".mobile-arrow").toggleClass("active")}):e(t).click(function(a){a.preventDefault(),e(this).parent().siblings("ul").slideToggle(250),e(this).parent().toggleClass("active"),e(this).toggleClass("active")})}),e(document).on("click",".show-menu, .close-sidebar, .sidebar-overlay",function(a){a.preventDefault(),e("body").hasClass("sidebar-open")?e("body").removeClass("sidebar-open"):e("body").addClass("sidebar-open")}),e(document).on("click",".show-sitemenu",function(a){a.preventDefault(),e("#site-menu").slideToggle(250),e(this).toggleClass("active")});var u=e(".theme-loginform").find(".usertext"),b=e(".theme-loginform").find(".welcome_userpicture").parent();b.append(u),b.click(function(e){e.preventDefault()}),setTimeout(function(){v()},10);var p=0;function v(){var a=e(window),t=e(".sticky-header-element-offset");if(t.length>0&&(e("body").hasClass("sticky-header1")||e("body").hasClass("sticky-header2"))){var s=e("#main-header");s.parent();var o=t.offset().top,l=s.outerHeight(!0);a.scrollTop()>o?(t.css({height:l}),s.addClass("sticky-header-element")):(s.removeClass("sticky-header-element"),t.css({height:0}))}}e(window).scroll(function(){(st=e(this).scrollTop())<p?(e("body").removeClass("scroll-down"),e("body").addClass("scroll-up")):(e("body").removeClass("scroll-up"),e("body").addClass("scroll-down")),p=st,v()}),e('input.mb2color, .mb2color input[type="text"]').each(function(){e(this).spectrum({showInput:!0,showButtons:!1,preferredFormat:"rgb",allowEmpty:!0,color:"",showAlpha:!0})});var g=e(".theme-iconnav").height();function k(){e("#page-outer").css({"min-height":e(window).height()})}e(".theme-iconnav").css({"margin-top":Math.ceil(-(g/2*1))}),e(".theme-iconnav li").each(function(){var a=e(this).find(".link-replace");e(this).find("span.text");var t=e("body").hasClass("dir-rtl");a.hover(function(){t?a.stop().animate({left:"0"},300):a.stop().animate({right:"0"},300)},function(){t?a.stop().animate({left:-a.width()},150):a.stop().animate({right:-a.width()},150)})}),k(),e(window).on("resize",function(){k()});var C="font_size",$={expires:3,path:"/"};function y(){var a=e(".panel-link");a.length&&(e(window).scrollTop()>a.offset().top+a.outerHeight(!0)?e("body").addClass("panellinkpass"):e("body").removeClass("panellinkpass"))}function _(){var a,t,s,o=[];e("[data-mb2showon]").each(function(){var l=e(this),n=l.data("mb2showon"),r=l.data("mb2showonval"),d=n.toString().split("|"),c=r.toString().split("|");for(a=0;a<d.length;a++)t=d[a],s=c[a],e('[name="'+t+'"]').val()==s?o[a]="yes":o[a]="no";-1!=e.inArray("yes",o)?l.closest(".form-group").show():l.closest(".form-group").hide(),o=[]})}"fs1"===Cookies.get(C)?e("html").addClass("theme-fs1"):"fs2"===Cookies.get(C)?e("html").addClass("theme-fs2"):"fs3"===Cookies.get(C)&&e("html").addClass("theme-fs3"),e(".theme-fontsizer a").each(function(){var a=e(this),t=a.data("size");a.click(function(a){e("html").removeClass("theme-fs1"),e("html").removeClass("theme-fs2"),e("html").removeClass("theme-fs3"),e("html").addClass("theme-fs"+t),Cookies.remove(C),Cookies.set(C,"fs"+t,$),a.preventDefault()})}),e(".theme-cpanel.fw").each(function(){e(this).closest(".container-fluid").attr("class",""),e(this).closest(".row").find(">div").attr("class",""),e(this).closest(".row").attr("class","")}),e(".sectionname, .section-title").each(function(){var a=e(this).find(">span>a, >a").text();e("body").hasClass("editing")||" "!==a||e(this).hide()}),e('label[for="jump-to-activity"]').closest(".m-t-2").addClass("activity-nav"),e(document).on("change",'[name="theme-search-checkbox"]',function(){var a=e(".theme-searchform"),t=e("#theme-search"),s=e("#theme-coursesearchbox"),o=a.find("label");e(this).is(":checked")?(t.attr("action",a.data("action_global")),s.attr("name","q"),o.text(o.data("globalstring"))):(t.attr("action",a.data("action_course")),s.attr("name","search"),o.text(o.data("coursesstring")))}),e("#theme-bookmarks-form").submit(function(a){var t=e(this),s=t.find("#mb2bkcreateurl").val();e.ajax({type:"GET",url:s,data:t.serialize(),beforeSend:function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeIn(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").attr("disabled","disabled")},error:function(a,t,s){setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled"),alert(a.responseText)},800)},success:function(a){if(e.isArray(a)){var t=function a(t){var s="",o=[],l=e("#theme-bookmarks-form").data("rooturl"),n=e("#theme-bookmarks-form").data("pageurl"),r=e("#theme-bookmarks-form").data("pagetitle"),d=e("#theme-bookmarks-form").data("bookmarkthispage"),c=e("#theme-bookmarks-form").data("unbookmarkthispage");for(i=0;i<t.length;i++){var h=t[i].split(";");h[0]&&(s+='<li data-url="'+h[0]+'">',s+='<a class="bookmark-link" href="'+l+h[0]+'">'+h[1]+"</a>",s+='<span class="theme-bookmarks-action">',s+='<a href="#" class="theme-bookmarks-form bookmark-edit" data-url="'+h[0]+'" data-mb2bktitle="'+h[1]+'" data-toggle="modal" data-target="#theme-bookmarks-modal"><i class="fa fa-pencil"></i></a>',s+='<a href="#" class="theme-bookmarks-form bookmark-delete" data-url="'+h[0]+'" data-mb2bktitle="'+h[1]+'"><i class="fa fa-times"></i></a>',s+="</span>",s+="</li>",o[i]=h[0])}var m=e.inArray(n,o),f="",u=' data-toggle="modal" data-target="#theme-bookmarks-modal"',b=d;return m>-1&&(f=" bookmark-delete",b=c,u=""),s+='<li class="theme-bookmarks-add">',s+='<a href="#" class="theme-bookmarks-form'+f+'" data-url="'+n+'" data-mb2bktitle="'+r+'"'+u+">",s+=b,s+="</a>",s+="</li>"}(a);e("ul.theme-bookmarks").html(t)}else alert(a);setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled")},800)}}),a.preventDefault()}),e(document).on("click",".theme-bookmarks-save",function(a){e("#theme-bookmarks-form").submit(),a.preventDefault()}),e(document).on("click",".theme-bookmarks-form",function(a){e("#mb2bkurl").val(e(this).data("url")),e("#mb2bktitle").val(e(this).data("mb2bktitle"));var t=e('li[data-url="'+e(this).data("url")+'"]');e(this).hasClass("bookmark-delete")?(e("#bkupdate").val(0),e("#bkdelete").val(1),e("#theme-bookmarks-form").submit()):e(this).hasClass("bookmark-edit")?(e("#bkdelete").val(0),e("#bkupdate").val(1)):t.length>0?(e("#bkdelete").val(0),e("#bkupdate").val(1),e("#mb2bktitle").val(t.find(">a").html())):(e("#bkdelete").val(0),e("#bkupdate").val(0)),a.preventDefault()}),e(".pbanimnum-item").each(function(){var a=e(this),t=a.parent().parent().data("aspeed"),s=a.find(".pbanimnum-number"),o=s.data("num"),l=!0;a.bind("inview",function(a,n){var r=e.animateNumber.numberStepFactories.separator(" ");n&&l&&(l=!1,setTimeout(function(){s.animateNumber({number:o,numberStep:r},t)},600))})}),e("form#guestlogin").parent().addClass("guestlogin-form"),e(".toggle-open").each(function(){var a=e(this).data("width"),t=e(this).parent(),s=e("body").hasClass("dir-rtl");e(this).click(function(e){e.preventDefault(),t.hasClass("closed")?(s?t.stop().animate({left:0},250):t.stop().animate({right:0},250),t.removeClass("closed"),t.addClass("opened")):(s?t.stop().animate({left:-a},250):t.stop().animate({right:-a},250),t.removeClass("opened"),t.addClass("closed"))})}),e(".boxlist>li").each(function(){e(this).find(">ul").length&&(e(this).find(">a").append('<span class="boxlist-toggle"></span>'),e(this).find(">span").append('<span class="boxlist-toggle"></span>'))}),e(document).on("click",".boxlist-toggle",function(a){a.preventDefault(),e(this).toggleClass("active"),e(this).parent().siblings("ul").slideToggle(250)}),e(".tools-show,.tools-close").click(function(a){var t;a.preventDefault(),e(this).toggleClass("active"),(t=e(".header-tools")).hasClass("open")?t.removeClass("open"):t.addClass("open")}),y(),e(window).scroll(function(){y()}),_(),e(".felement>select").on("change",function(){_()})}),function(e){e(window).on("load",function(){var a=e(".loading-scr");setTimeout(function(){a.fadeOut(150)},a.data("hideafter"))})}(jQuery);
